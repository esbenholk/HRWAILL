{"version":3,"sources":["components/TextContainer/TextContainer.js","icons/onlineIcon.png","components/Messages/Message/Message.js","components/Messages/Messages.js","components/Input/Input.js","components/Chat/Chat.js","components/playground/FPVControls.js","components/playground/useKeyboardControls.js","components/playground/Player.js","components/functions/firefly_material.js","components/functions/fireflies.js","components/functions/reflector-material.js","components/functions/use-postprocessing.js","components/content_redistribution/stacy.js","components/Broadcast/Stream.js","components/content_redistribution/canvas.js","components/functions/use-reflector.js","components/content_redistribution/index.js","App.js","index.js"],"names":["TextContainer","users","className","style","position","top","zIndex","pointerEvents","maxWidth","display","flexDirection","whiteSpace","fontSize","map","user","name","alt","src","Message","trimmedName","message","text","isSentByCurrentUser","trim","ReactEmoji","emojify","Messages","messages","messagesEndRef","useRef","useEffect","current","scrollIntoView","behavior","i","ref","Input","setMessage","sendMessage","type","placeholder","value","onChange","target","onKeyPress","event","key","onClick","e","Chat","props","socket","useState","setName","setUsers","setMessages","loggedIn","on","username","bottom","right","left","preventDefault","emit","extend","PointerLockControlsImpl","FPVControls","useThree","camera","gl","controls","document","getElementById","addEventListener","lock","args","domElement","actionByKey","KeyW","KeyS","KeyD","KeyA","ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Space","Player","moveForward","moveBackward","moveLeft","moveRight","jump","movement","setMovement","handleKeyDown","code","state","handleKeyUp","removeEventListener","useKeyboardControls","useSphere","mass","api","velocity","subscribe","v","useFrame","copy","direction","Vector3","frontVector","sideVector","subVectors","normalize","multiplyScalar","applyEuler","rotation","Math","abs","toFixed","set","x","z","starter","Control","active","setActive","y","OrbitControls","autoRotate","autoRotateSpeed","maxZoom","minZoom","minDistance","maxDistance","maxPolarAngle","PI","FireflyMaterial","uniforms","uTime","uPixelRatio","min","window","devicePixelRatio","uSize","vertexShader","fragmentShader","this","THREE","Fireflies","count","shader","useMemo","positionArray","Float32Array","scaleArray","random","toArray","delta","time","attachObject","array","itemSize","transparent","depthWrite","ReflectorMaterialImpl","parameters","setValues","_flowMapOffset0","_flowMapOffset1","_tDiffuse","_tNormalMap0","_tNormalMap1","_textureMatrix","_reflectorOpacity","flowMapOffset0","flowMapOffset1","tDiffuse","tNormalMap0","tNormalMap1","textureMatrix","reflectorOpacity","replace","MeshPhysicalMaterial","ReflectorMaterial","savePass","React","forwardRef","material","textures","useTexture","water","forEach","wrapS","wrapT","RepeatWrapping","repeat","clock","getDelta","cycle","object","attach","renderTarget","texture","side","DoubleSide","aoMap","myMap","displacementMap","displacementScale","normalMap","normalScale","roughnessMap","usePostprocessing","reflectorPipeline","size","scene","smaa","useLoader","SMAAImageLoader","composer","EffectComposer","frameBufferType","multisampling","renderPass","RenderPass","CHROMATIC_ABERRATION","ChromaticAberrationEffect","offset","BLOOM","BloomEffect","luminanceSmoothing","intensity","NOISE","NoiseEffect","blendFunction","BlendFunction","COLOR_DODGE","blendMode","opacity","SMAA","SMAAEffect","edgeDetectionMaterial","setEdgeDetectionThreshold","setPredicationMode","PredicationMode","DEPTH","setPredicationThreshold","setPredicationScale","edgesTextureEffect","TextureEffect","SKIP","renderTargetEdges","weightsTextureEffect","renderTargetWeights","effectPass","EffectPass","effectPassChroAbb","pass","addPass","setSize","width","height","_","render","Stacy","pose","useGLTF","animations","clone","SkeletonUtils","nodes","useGraph","useAnimations","actions","names","hovered","setHovered","index","setIndex","body","cursor","reset","fadeIn","play","fadeOut","dispose","onPointerOver","onPointerOut","length","scale","mixamorigHips","castShadow","receiveShadow","geometry","stacy","skeleton","map-flipY","skinning","Stream","objectFit","id","randomIntFromInterval","max","floor","Cubes","imageUrls","imageUrl","color","fallback","softShadows","ImageTextureMaterial","TextureLoader","roughness","Lights","lightRef","lightRef1","t","getElapsedTime","sin","cos","angle","penumbra","shadow-mapSize-width","shadow-mapSize-height","StreamBoxes","vid","getElementsByTagName","crossOrigin","video","groupRef","console","log","Floor","textureWidth","textureHeight","clipBias","meshRef","Plane","reflectorPlane","normal","reflectorWorldPosition","cameraWorldPosition","Matrix4","rotationMatrix","lookAtPosition","Vector4","clipPlane","view","q","PerspectiveCamera","virtualCamera","renderer","beforeRender","useCallback","visible","setFromMatrixPosition","matrixWorld","extractRotation","applyMatrix4","dot","reflect","negate","add","up","lookAt","far","updateMatrixWorld","projectionMatrix","multiply","matrixWorldInverse","setFromNormalAndCoplanarPoint","constant","sign","elements","w","afterRender","minFilter","LinearFilter","magFilter","format","RGBFormat","WebGLRenderTarget","encoding","outputEncoding","MathUtils","isPowerOfTwo","generateMipmaps","depthPass","DepthPass","dof","DepthOfFieldEffect","focusDistance","focalLength","bokehScale","blurPass","setDepthTexture","RGBADepthPacking","SavePass","lambdaPassBefore","LambdaPass","lambdaPassAfter","Material","useReflector","passes","position-z","rotation-x","position-y","metalness","clearcoat","Sound","url","sound","AudioListener","listener","buffer","AudioLoader","setBuffer","setRefDistance","setLoop","remove","Boxes","children","element","Model","gltf","model","traverse","Mesh","computeVertexNormals","ContentRedistributionCanvas","callbackFunction","setState","hasStream","nextProps","nextState","colorManagement","shadowMap","near","fov","resize","debounce","scroll","invalidateFrameloop","powerPreference","antialias","alpha","background","Environment","files","gravity","Loader","dataInterpolation","p","Component","MyDropzone","isLoading","setIsLoading","dropZoneClass","setDropZoneClass","handleDrop","acceptedFiles","reader","FileReader","previewElement","readAsDataURL","onloadstart","onloadend","error","uploadImage","result","setTimeout","onDrop","accept","minSize","maxSize","addRemoveLinks","previewsContainer","getRootProps","getInputProps","ContentRedistribution","loadImages","a","fetch","res","json","data","images","handleFileInputChange","file","previewFile","base64EncodedImage","method","JSON","stringify","headers","hasNewImage","previewSource","hasBroadcast","newImage","includes","broadcast","io","App","setLoggedIn","myID","setMyID","nameRef","path","exact","textAlign","alert","runConnection","href","ReactDOM"],"mappings":"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","file":"static/js/main.7ede1a95.chunk.js","sourcesContent":["import React from \"react\";\n\nimport onlineIcon from \"../../icons/onlineIcon.png\";\n\nimport \"./TextContainer.css\";\n\nfunction TextContainer({ users }) {\n  const HWRAILL_Text =\n    \"THE HRWAILL ARCHIVE of Human Expressions is a user generated data set that unfolds into a 3D landscape.  \\n\\nPlay as data input for the semi-sentient machine learning algorithm HRWAILL and enjoy First Person Shooter access to its slowly expanding index of signs, images and symbols.  \\n\\nClick on landscape to toggle controls AWSD \\nClick ESC to reclaim control of your cursor.  \\n\\nDrop images in the box below to teach me expressions\";\n  return (\n    <div\n      className=\"container\"\n      style={{\n        position: \"fixed\",\n        top: \"200px\",\n        zIndex: \"99999\",\n        pointerEvents: \"auto\",\n        maxWidth: \"250px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n      }}\n    >\n      {users ? (\n        <div>\n          <p style={{ whiteSpace: \"pre-wrap\", fontSize: \"12px\" }}>\n            {HWRAILL_Text}\n          </p>\n\n          <p className=\"users-headline\">Online users</p>\n          <div className=\"users\">\n            {users.map((user) => (\n              <div key={user.name} className=\"activeItem\">\n                <p>{user.name}</p>\n                <img alt=\"Online Icon\" src={onlineIcon} />\n              </div>\n            ))}\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n\nexport default TextContainer;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","import React from \"react\";\n\nimport ReactEmoji from \"react-emoji\";\n\nconst Message = ({ message: { text, user }, name }) => {\n  let isSentByCurrentUser = false;\n\n  let trimmedName;\n\n  if (name) {\n    trimmedName = name.trim();\n  }\n\n  if (user === trimmedName) {\n    isSentByCurrentUser = true;\n  }\n\n  return isSentByCurrentUser ? (\n    <div className=\"messageContainer justifyEnd\">\n      <p className=\"sentText pr-10\">{trimmedName}</p>\n      <p className=\"messageText\">{ReactEmoji.emojify(text)}</p>\n    </div>\n  ) : (\n    <div className=\"messageContainer justifyEnd\">\n      <p className=\"sentText pl-10 \">{user}</p>\n\n      <p className=\"messageText\">{ReactEmoji.emojify(text)}</p>\n    </div>\n  );\n};\n\nexport default Message;\n","import React, { useRef, useEffect } from \"react\";\n\nimport Message from \"./Message/Message\";\n\nfunction Messages({ messages, name }) {\n  const messagesEndRef = useRef(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  useEffect(scrollToBottom, [messages]);\n\n  return (\n    <div className=\"messages\" style={{ pointerEvents: \"auto\" }}>\n      {messages.map((message, i) => (\n        <div key={i}>\n          <Message message={message} name={name} />\n        </div>\n      ))}\n      <div ref={messagesEndRef} />\n    </div>\n  );\n}\n\nexport default Messages;\n","import React from \"react\";\n\nimport \"./Input.css\";\n\nconst Input = ({ setMessage, sendMessage, message }) => (\n  <form className=\"form\">\n    <input\n      className=\"input\"\n      type=\"text\"\n      placeholder=\"Type a message...\"\n      value={message}\n      onChange={({ target: { value } }) => setMessage(value)}\n      onKeyPress={(event) =>\n        event.key === \"Enter\" ? sendMessage(event) : null\n      }\n    />\n    <button className=\"sendButton\" onClick={(e) => sendMessage(e)}>\n      Send\n    </button>\n  </form>\n);\n\nexport default Input;\n","import React, { useState, useEffect } from \"react\";\n\n// import VideoChat from \"../TextContainer/VideoChat.js\";\n// <VideoChat\n// users={users}\n// socket={socket}\n// id={props.myID}\n// myName={props.name}\n// />\nimport TextContainer from \"../TextContainer/TextContainer.js\";\nimport Messages from \"../Messages/Messages\";\nimport Input from \"../Input/Input\";\n\nconst Chat = (props) => {\n  const socket = props.socket;\n\n  const [name, setName] = useState();\n  const [users, setUsers] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n\n  useEffect(() => {\n    if (props.loggedIn) {\n      socket.on(\"message\", (message) => {\n        setMessages((messages) => [...messages, message]);\n      });\n\n      socket.on(\"roomData\", ({ users, username }) => {\n        setUsers(users);\n        setName(username);\n      });\n    }\n  }, [props.loggedIn, socket]);\n\n  const sendMessage = (event) => {\n    event.preventDefault();\n\n    if (message) {\n      socket.emit(\"sendMessage\", message, () => setMessage(\"\"));\n    }\n  };\n\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        top: \"0\",\n        bottom: \"0\",\n        right: \"0\",\n        left: \"0\",\n        zIndex: \"0\",\n        pointerEvents: \"none\",\n      }}\n    >\n      {props.loggedIn && (\n        <>\n          <div\n            className=\"chatContainer containerframe\"\n            style={{ pointerEvents: \"auto\" }}\n          >\n            <Messages messages={messages} name={name} />\n            <Input\n              message={message}\n              setMessage={setMessage}\n              sendMessage={sendMessage}\n            />\n          </div>\n\n          <TextContainer users={users} />\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Chat;\n","import React, { useEffect } from \"react\";\nimport { PointerLockControls as PointerLockControlsImpl } from \"three/examples/jsm/controls/PointerLockControls\";\nimport { useThree, extend } from \"@react-three/fiber\";\nimport { useRef } from \"react\";\n\nextend({ PointerLockControlsImpl });\n\nexport const FPVControls = (props) => {\n  const { camera, gl } = useThree();\n  const controls = useRef();\n\n  useEffect(() => {\n    document.getElementById(\"canvas\").addEventListener(\"click\", () => {\n      if (controls.current) {\n        controls.current.lock();\n      }\n    });\n  }, []);\n\n  return (\n    <>\n      <pointerLockControlsImpl\n        ref={controls}\n        args={[camera, gl.domElement]}\n        {...props}\n      />\n    </>\n  );\n};\n","import { useState, useEffect } from \"react\";\n\nfunction actionByKey(key) {\n  const keys = {\n    KeyW: \"moveForward\",\n    KeyS: \"moveBackward\",\n    KeyD: \"moveRight\",\n    KeyA: \"moveLeft\",\n    ArrowUp: \"moveForward\",\n    ArrowDown: \"moveBackward\",\n    ArrowRight: \"moveRight\",\n    ArrowLeft: \"moveLeft\",\n    Space: \"jump\",\n  };\n  return keys[key];\n}\n\nexport const useKeyboardControls = () => {\n  const [movement, setMovement] = useState({\n    moveForward: false,\n    moveBackward: false,\n    moveLeft: false,\n    moveRight: false,\n    jump: false,\n  });\n\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      // Movement key\n      if (actionByKey(e.code)) {\n        setMovement((state) => ({\n          ...state,\n          [actionByKey(e.code)]: true,\n        }));\n      }\n    };\n    const handleKeyUp = (e) => {\n      if (actionByKey(e.code)) {\n        setMovement((state) => ({\n          ...state,\n          [actionByKey(e.code)]: false,\n        }));\n      }\n    };\n\n    document.addEventListener(\"keydown\", handleKeyDown);\n    document.addEventListener(\"keyup\", handleKeyUp);\n\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown);\n      document.removeEventListener(\"keyup\", handleKeyUp);\n    };\n  }, []);\n\n  return movement;\n};\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { useSphere } from \"@react-three/cannon\";\nimport { useThree, useFrame } from \"@react-three/fiber\";\nimport { FPVControls } from \"./FPVControls\";\nimport { useKeyboardControls } from \"./useKeyboardControls\";\nimport { Vector3 } from \"three\";\nimport { OrbitControls } from \"@react-three/drei\";\n\nconst SPEED = 6;\n\nconst Player = (props) => {\n  const { camera } = useThree();\n\n  let { moveForward, moveBackward, moveLeft, moveRight, jump } =\n    useKeyboardControls();\n\n  const [ref, api] = useSphere(() => ({\n    mass: 1,\n    type: \"Dynamic\",\n    ...props,\n  }));\n\n  const velocity = useRef([0, 0, 0]);\n  useEffect(() => {\n    api.velocity.subscribe((v) => (velocity.current = v));\n  }, [api.velocity]);\n\n  useFrame(() => {\n    camera.position.copy(ref.current.position);\n    const direction = new Vector3();\n\n    const frontVector = new Vector3(\n      0,\n      0,\n      (moveBackward ? 1 : 0) - (moveForward ? 1 : 0)\n    );\n    const sideVector = new Vector3(\n      (moveLeft ? 1 : 0) - (moveRight ? 1 : 0),\n      0,\n      0\n    );\n\n    direction\n      .subVectors(frontVector, sideVector)\n      .normalize()\n      .multiplyScalar(SPEED)\n      .applyEuler(camera.rotation);\n\n    if (jump && Math.abs(velocity.current[1].toFixed(2)) < 0.05) {\n      api.velocity.set(velocity.current[0], 2, velocity.current[2]);\n\n      // setTimeout(function () {\n      //   console.log(\"stops jump\");\n\n      //   api.velocity.set(\n      //     velocity.current[0],\n      //     velocity.current[1],\n      //     velocity.current[2]\n      //   );\n      // }, 500); //wait 2 seconds\n\n      jump = false;\n    }\n    api.velocity.set(direction.x, velocity.current[1], direction.z);\n  });\n  return (\n    <>\n      <FPVControls starter={props.starter} />\n      <mesh ref={ref} />\n    </>\n  );\n};\n\nexport const Control = (props) => {\n  const [active, setActive] = useState(false);\n  const { camera } = useThree();\n\n  useEffect(() => {\n    document.getElementById(\"canvas\").addEventListener(\"click\", () => {\n      if (!active) {\n        setActive(true);\n      }\n    });\n  }, [active]);\n\n  return (\n    <>\n      {active ? (\n        <Player position={[camera.position.x, 1, camera.position.y]} />\n      ) : (\n        <>\n          <OrbitControls\n            autoRotate\n            autoRotateSpeed={(-60 * 0.15) / 5}\n            maxZoom={30}\n            minZoom={10}\n            minDistance={10}\n            maxDistance={50}\n            maxPolarAngle={Math.PI / 2 - 0.1}\n          />\n        </>\n      )}\n    </>\n  );\n};\n","import * as THREE from \"three\";\r\nimport { extend } from \"@react-three/fiber\";\r\n\r\nexport default class FireflyMaterial extends THREE.ShaderMaterial {\r\n  constructor() {\r\n    super({\r\n      uniforms: {\r\n        uTime: { value: 0 },\r\n        uPixelRatio: { value: Math.min(window.devicePixelRatio, 2) },\r\n        uSize: { value: 150 },\r\n      },\r\n      vertexShader: `\r\n      uniform float uPixelRatio;\r\n      uniform float uSize;\r\n      uniform float uTime;\r\n      attribute float aScale;    \r\n      void main() {\r\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\r\n        modelPosition.y += sin(uTime + modelPosition.x * 100.0) * aScale * 0.2;\r\n        modelPosition.z += cos(uTime + modelPosition.x * 100.0) * aScale * 0.2;\r\n        modelPosition.x += cos(uTime + modelPosition.x * 100.0) * aScale * 0.2;\r\n        vec4 viewPosition = viewMatrix * modelPosition;\r\n        vec4 projectionPostion = projectionMatrix * viewPosition;    \r\n        gl_Position = projectionPostion;\r\n        gl_PointSize = uSize * aScale * uPixelRatio;\r\n        gl_PointSize *= (1.0 / - viewPosition.z);\r\n      }`,\r\n      fragmentShader: `\r\n      void main() {\r\n        float distanceToCenter = distance(gl_PointCoord, vec2(0.5));\r\n        float strength = 0.05 / distanceToCenter - 0.1;\r\n        gl_FragColor = vec4(1.0, 1.0, 1.0, strength);\r\n      }`,\r\n    });\r\n  }\r\n\r\n  get time() {\r\n    return this.uniforms.uTime.value;\r\n  }\r\n\r\n  set time(v) {\r\n    this.uniforms.uTime.value = v;\r\n  }\r\n}\r\n\r\nextend({ FireflyMaterial });\r\n","import * as THREE from \"three\";\r\nimport React, { useRef, useMemo } from \"react\";\r\nimport { useFrame } from \"@react-three/fiber\";\r\nimport \"./firefly_material\";\r\n\r\nexport default function Fireflies({ count, position }) {\r\n  const shader = useRef();\r\n  const [positionArray, scaleArray] = useMemo(() => {\r\n    const positionArray = new Float32Array(count * 3);\r\n    const scaleArray = new Float32Array(count);\r\n    for (let i = 0; i < count; i++) {\r\n      new THREE.Vector3(\r\n        (Math.random() - 0.5) * 100,\r\n        Math.random() * 1.5,\r\n        (Math.random() - 0.5) * 100\r\n      ).toArray(positionArray, i * 3);\r\n      scaleArray[i] = Math.random();\r\n    }\r\n    return [positionArray, scaleArray];\r\n  }, [count]);\r\n  useFrame((state, delta) => (shader.current.time += delta / 2));\r\n  return (\r\n    <mesh position={position}>\r\n      <points key={count}>\r\n        <bufferGeometry>\r\n          <bufferAttribute\r\n            attachObject={[\"attributes\", \"position\"]}\r\n            count={count}\r\n            array={positionArray}\r\n            itemSize={3}\r\n          />\r\n          <bufferAttribute\r\n            attachObject={[\"attributes\", \"aScale\"]}\r\n            count={count}\r\n            array={scaleArray}\r\n            itemSize={1}\r\n          />\r\n        </bufferGeometry>\r\n        <fireflyMaterial ref={shader} transparent depthWrite={false} />\r\n      </points>\r\n    </mesh>\r\n  );\r\n}\r\n","import { useTexture } from \"@react-three/drei\";\nimport React, { useEffect, useState } from \"react\";\nimport { useFrame } from \"@react-three/fiber\";\nimport { MeshPhysicalMaterial, DoubleSide, RepeatWrapping } from \"three\";\n\nclass ReflectorMaterialImpl extends MeshPhysicalMaterial {\n  _flowMapOffset0;\n  _flowMapOffset1;\n  _tDiffuse;\n  _textureMatrix;\n  _reflectorOpacity;\n  _tNormalMap0;\n  _tNormalMap1;\n  constructor(parameters = {}) {\n    super(parameters);\n    this.setValues(parameters);\n    this._flowMapOffset0 = { value: null };\n    this._flowMapOffset1 = { value: null };\n    this._tDiffuse = { value: null };\n    this._tNormalMap0 = { value: null };\n    this._tNormalMap1 = { value: null };\n    this._textureMatrix = { value: null };\n    this._reflectorOpacity = { value: 0.2 };\n  }\n\n  onBeforeCompile(shader) {\n    shader.uniforms.flowMapOffset0 = this._flowMapOffset0;\n    shader.uniforms.flowMapOffset1 = this._flowMapOffset1;\n    shader.uniforms.tDiffuse = this._tDiffuse;\n    shader.uniforms.tNormalMap0 = this._tNormalMap0;\n    shader.uniforms.tNormalMap1 = this._tNormalMap1;\n    shader.uniforms.textureMatrix = this._textureMatrix;\n    shader.uniforms.reflectorOpacity = this._reflectorOpacity;\n\n    shader.vertexShader = `\n        uniform mat4 textureMatrix;\n        varying vec4 my_vUv;\n     \n      ${shader.vertexShader}\n    `;\n    shader.vertexShader = shader.vertexShader.replace(\n      \"#include <project_vertex>\",\n      `\n        #include <project_vertex>\n        my_vUv = textureMatrix * vec4( position, 1.0 );\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        `\n    );\n\n    shader.fragmentShader = `\n        uniform sampler2D tDiffuse;\n        uniform float flowMapOffset0;\n        uniform float flowMapOffset1;\n        uniform float reflectorOpacity;\n        uniform sampler2D tNormalMap0;\n        uniform sampler2D tNormalMap1;\n        varying vec4 my_vUv;\n        ${shader.fragmentShader}\n    `;\n    shader.fragmentShader = shader.fragmentShader.replace(\n      \"#include <map_fragment>\",\n      `\n        #include <map_fragment>\n\n        float halfCycle = 1.0/2.0;\n        float scale = 1.0;\n        vec3 toEye = normalize( vec3(1.0,1.0,0.0) );\n        \n        // determine flow direction\n        vec2 flow = vec2(0.8,0.3);\n        flow.x *= - 1.0;\n        \n        // sample normal maps (distort uvs with flowdata)\n        vec4 normalColor0 = texture2D( tNormalMap0, ( vUv * scale ) + flow * flowMapOffset0 );\n        vec4 normalColor1 = texture2D( tNormalMap1, ( vUv * scale ) + flow * flowMapOffset1 );\n        \n        // linear interpolate to get the final normal color\n        float flowLerp = abs( halfCycle - flowMapOffset0 ) / halfCycle;\n        vec4 normalColor = mix( normalColor0, normalColor1, flowLerp );\n        \n        // calculate normal vector\n        vec3 my_normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );\n        \n        // calculate the fresnel term to blend reflection and refraction maps\n        float theta = max( dot( toEye, my_normal ), 0.0 );\n        float reflectance = 1.0 + ( 1.0 - 1.0 ) * pow( ( 1.0 - theta ), 5.0 );\n        \n        // calculate final uv coords\n        vec3 coord = my_vUv.xyz / my_vUv.w;\n        vec2 uv = coord.xy + coord.z * my_normal.xz * 0.05;\n        \n        vec4 myTexelRoughness = texture2D( roughnessMap, vUv );\n        vec4 baseWater = texture2D( tDiffuse, uv);\n        vec4 base = texture2DProj( tDiffuse, my_vUv );\n        vec4 mixedBase = mix(base, baseWater, myTexelRoughness.r > 0.5 ? 0.0 : 1.0);\n        mixedBase *= 1.0 - myTexelRoughness.r;\n        diffuseColor.rgb += reflectorOpacity * mixedBase.rgb;\n      `\n    );\n  }\n\n  get flowMapOffset0() {\n    return this._flowMapOffset0.value;\n  }\n  set flowMapOffset0(v) {\n    this._flowMapOffset0.value = v;\n  }\n  get flowMapOffset1() {\n    return this._flowMapOffset1.value;\n  }\n  set flowMapOffset1(v) {\n    this._flowMapOffset1.value = v;\n  }\n  get tDiffuse() {\n    return this._tDiffuse.value;\n  }\n  set tDiffuse(v) {\n    this._tDiffuse.value = v;\n  }\n  get tNormalMap0() {\n    return this._tNormalMap0.value;\n  }\n  set tNormalMap0(v) {\n    this._tNormalMap0.value = v;\n  }\n  get tNormalMap1() {\n    return this._tNormalMap1.value;\n  }\n  set tNormalMap1(v) {\n    this._tNormalMap1.value = v;\n  }\n  get textureMatrix() {\n    return this._textureMatrix.value;\n  }\n  set textureMatrix(v) {\n    this._textureMatrix.value = v;\n  }\n  get reflectorOpacity() {\n    return this._reflectorOpacity.value;\n  }\n  set reflectorOpacity(v) {\n    this._reflectorOpacity.value = v;\n  }\n}\n\nexport const ReflectorMaterial = ({ savePass, textureMatrix }) =>\n  React.forwardRef((props, ref) => {\n    const [material] = useState(() => new ReflectorMaterialImpl());\n    const cycle = 1.0;\n    const halfCycle = cycle / 2;\n    const flowSpeed = 10;\n\n    const textures = useTexture([\n      \"/BASE.jpg\",\n      \"/AO.jpg\",\n      \"/HEIGHT.png\",\n      \"/NORMAL.jpg\",\n      \"/ROUGHNESS.jpg\",\n    ]);\n    const water = useTexture([\"/Water_2.jpg\", \"/Water_2.jpg\"]);\n    useEffect(() => {\n      textures.forEach((x) => {\n        x.wrapS = x.wrapT = RepeatWrapping;\n        x.repeat.set(1, 1);\n      });\n      water.forEach((x) => {\n        x.wrapS = x.wrapT = RepeatWrapping;\n        x.repeat.set(1, 1);\n      });\n    }, [textures, water]);\n\n    useFrame(({ clock }) => {\n      if (material) {\n        const delta = clock.getDelta();\n        material.flowMapOffset0 += flowSpeed * delta;\n        material.flowMapOffset1 = material.flowMapOffset0 + halfCycle;\n        if (material.flowMapOffset0 >= cycle) {\n          material.flowMapOffset0 = 0;\n          material.flowMapOffset1 = halfCycle;\n        } else if (material.flowMapOffset1 >= cycle) {\n          material.flowMapOffset1 = material.flowMapOffset1 - cycle;\n        }\n      }\n    });\n    return (\n      <primitive\n        object={material}\n        ref={ref}\n        attach=\"material\"\n        {...props}\n        textureMatrix={textureMatrix}\n        tDiffuse={savePass.renderTarget.texture}\n        side={DoubleSide}\n        map={textures[0]}\n        aoMap={textures[1]}\n        myMap={textures[2]}\n        displacementMap={textures[2]}\n        displacementScale={0.5}\n        normalMap={textures[3]}\n        normalScale={[0.7, 0.7]}\n        roughnessMap={textures[4]}\n        tNormalMap0={water[0]}\n        tNormalMap1={water[1]}\n      />\n    );\n  });\n","import { useFrame, useThree, useLoader } from \"@react-three/fiber\";\nimport * as THREE from \"three\";\nimport { useEffect, useMemo } from \"react\";\nimport {\n  EffectComposer,\n  RenderPass,\n  EffectPass,\n  BlendFunction,\n  ChromaticAberrationEffect,\n  BloomEffect,\n  NoiseEffect,\n  PredicationMode,\n  SMAAEffect,\n  SMAAImageLoader,\n  TextureEffect,\n} from \"postprocessing\";\n\nfunction usePostprocessing(reflectorPipeline = []) {\n  const { gl, size, scene, camera } = useThree();\n  const smaa = useLoader(SMAAImageLoader);\n\n  const [composer] = useMemo(() => {\n    const composer = new EffectComposer(gl, {\n      frameBufferType: THREE.HalfFloatType,\n      multisampling: 0,\n    });\n    const renderPass = new RenderPass(scene, camera);\n\n    const CHROMATIC_ABERRATION = new ChromaticAberrationEffect({\n      offset: new THREE.Vector2(0.001, 0.001),\n    });\n    const BLOOM = new BloomEffect({\n      luminanceSmoothing: 0.3,\n      intensity: 0.5,\n    });\n    const NOISE = new NoiseEffect({\n      blendFunction: BlendFunction.COLOR_DODGE,\n    });\n    NOISE.blendMode.opacity.value = 0.03;\n\n    // INIT ANTIALIAS\n    const SMAA = new SMAAEffect(...smaa);\n    SMAA.edgeDetectionMaterial.setEdgeDetectionThreshold(0.05);\n    SMAA.edgeDetectionMaterial.setPredicationMode(PredicationMode.DEPTH);\n    SMAA.edgeDetectionMaterial.setPredicationThreshold(0.002);\n    SMAA.edgeDetectionMaterial.setPredicationScale(1.0);\n    const edgesTextureEffect = new TextureEffect({\n      blendFunction: BlendFunction.SKIP,\n      texture: SMAA.renderTargetEdges.texture,\n    });\n    const weightsTextureEffect = new TextureEffect({\n      blendFunction: BlendFunction.SKIP,\n      texture: SMAA.renderTargetWeights.texture,\n    });\n    // END ANTIALIAS\n\n    const effectPass = new EffectPass(\n      camera,\n      SMAA,\n      edgesTextureEffect,\n      weightsTextureEffect,\n      BLOOM,\n      NOISE\n    );\n    const effectPassChroAbb = new EffectPass(camera, CHROMATIC_ABERRATION);\n\n    reflectorPipeline.forEach((pass) => composer.addPass(pass));\n\n    composer.addPass(renderPass);\n    composer.addPass(effectPass);\n    composer.addPass(effectPassChroAbb);\n\n    return [composer];\n  }, [gl, scene, camera, reflectorPipeline, smaa]);\n\n  useEffect(\n    () => void composer.setSize(size.width, size.height),\n    [composer, size]\n  );\n  useFrame((_, delta) => void composer.render(delta), -1);\n}\n\nexport default usePostprocessing;\n","/*\r\nThis file was generated by https://github.com/pmndrs/gltfjsx and then\r\ncustomized manually. It uses drei's new useAnimations hook which extracts\r\nall actions and sets up a THREE.AnimationMixer for it so that you don't have to.\r\nAll of the assets actions, action-names and clips are available in its output. \r\n*/\r\n\r\nimport React, { useEffect, useState, useMemo } from \"react\";\r\nimport { useGLTF, useTexture, useAnimations } from \"@react-three/drei\";\r\nimport { useGraph } from \"@react-three/fiber\";\r\nimport { SkeletonUtils } from \"three/examples/jsm/utils/SkeletonUtils\";\r\n\r\nexport default function Stacy({ pose, ...props }) {\r\n  // Fetch model and a separate texture\r\n  const { scene, animations } = useGLTF(\"/stacy.glb\");\r\n  const clone = useMemo(() => SkeletonUtils.clone(scene), [scene]);\r\n  const { nodes } = useGraph(clone);\r\n\r\n  const texture = useTexture(\"/NORMAL.jpg\");\r\n\r\n  // Extract animation actions\r\n  const { ref, actions, names } = useAnimations(animations);\r\n  // Hover and animation-index states\r\n  const [hovered, setHovered] = useState(false);\r\n  const [index, setIndex] = useState(pose);\r\n  // Animate the selection halo\r\n\r\n  // Change cursor on hover-state\r\n  useEffect(\r\n    () => void (document.body.style.cursor = hovered ? \"pointer\" : \"auto\"),\r\n    [hovered]\r\n  );\r\n  // Change animation when the index changes\r\n  useEffect(() => {\r\n    // Reset and fade in animation after an index has been changed\r\n    if (actions[names[index]]) {\r\n      actions[names[index]].reset().fadeIn(0.5).play();\r\n    }\r\n    // In the clean-up phase, fade it out\r\n    return () => actions[names[index]].fadeOut(0.5);\r\n  }, [index, actions, names]);\r\n  return (\r\n    <group ref={ref} {...props} dispose={null}>\r\n      <group\r\n        onPointerOver={() => setHovered(true)}\r\n        onPointerOut={() => setHovered(false)}\r\n        onClick={() => setIndex((index + 1) % names.length)}\r\n        rotation={[Math.PI / 2, 0, 0]}\r\n        scale={[0.05, 0.05, 0.05]}\r\n      >\r\n        <primitive object={nodes.mixamorigHips} />\r\n        <skinnedMesh\r\n          castShadow\r\n          receiveShadow\r\n          geometry={nodes.stacy.geometry}\r\n          skeleton={nodes.stacy.skeleton}\r\n          rotation={[-Math.PI / 2, 0, 0]}\r\n          scale={[100, 100, 100]}\r\n        >\r\n          <meshStandardMaterial map={texture} map-flipY={false} skinning />\r\n        </skinnedMesh>\r\n      </group>\r\n    </group>\r\n  );\r\n}\r\n\r\n/* <Stacy pose={4} position={[0, 0, 0]} /> */\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport ReactPlayer from \"react-player\";\r\nconst streamUrl =\r\n  \"https://9080d9c066cb.eu-west-1.playback.live-video.net/api/video/v1/eu-west-1.554958627116.channel.DTf3HzFPw6Tl.m3u8\";\r\n\r\nconst isStreaming = false;\r\nexport default function Stream(props) {\r\n  const [hasStream, setHasStream] = useState(false);\r\n  const stream = useRef();\r\n  useEffect(() => {\r\n    // UrlExists(streamUrl);\r\n  });\r\n\r\n  function UrlExists(url) {\r\n    var http = new XMLHttpRequest();\r\n    http.open(\"HEAD\", url, false);\r\n    http.send();\r\n    if (http.status !== 404) {\r\n      console.log(\"has stream\");\r\n      setHasStream(true);\r\n      props.callbackFunction();\r\n    } else {\r\n      console.log(\"does not have stream\");\r\n      setHasStream(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"container\"\r\n      style={{\r\n        position: \"fixed\",\r\n        top: \"0\",\r\n        left: \"0\",\r\n        zIndex: \"99999\",\r\n        pointerEvents: \"auto\",\r\n        width: \"250px\",\r\n        height: \"180px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n      }}\r\n    >\r\n      {hasStream && isStreaming ? (\r\n        <ReactPlayer\r\n          ref={stream}\r\n          url={streamUrl}\r\n          width=\"100%\"\r\n          height=\"105%\"\r\n          playing\r\n          controls\r\n          playsinline\r\n          disablePictureInPicture\r\n          id=\"video\"\r\n        />\r\n      ) : (\r\n        <img\r\n          style={{ height: \"100%\", objectFit: \"contain\" }}\r\n          id=\"logo\"\r\n          src=\"https://res.cloudinary.com/www-houseofkilling-com/image/upload/v1623355136/contentRedistribution/logo_y5vsqo.png\"\r\n          alt=\"HRWAILL_icon\"\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { Suspense, useRef, useState, useEffect } from \"react\";\r\nimport { Canvas, useLoader, useFrame, useThree } from \"@react-three/fiber\";\r\n\r\nimport { Control } from \"../playground/Player\";\r\nimport { Physics } from \"@react-three/cannon\";\r\n\r\nimport Fireflies from \"../functions/fireflies\";\r\n\r\nimport { softShadows, Loader, Environment, useGLTF } from \"@react-three/drei\";\r\n\r\nimport { useReflector } from \"../functions/use-reflector\";\r\nimport usePostprocessing from \"../functions/use-postprocessing\";\r\n\r\nimport Stacy from \"./stacy\";\r\n\r\nimport {\r\n  TextureLoader,\r\n  AudioListener,\r\n  AudioLoader,\r\n  Mesh,\r\n  DoubleSide,\r\n} from \"three\";\r\n\r\nimport Stream from \"../Broadcast/Stream\";\r\nsoftShadows();\r\n\r\nfunction randomIntFromInterval(min, max) {\r\n  // min and max included\r\n  return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\r\n\r\nfunction Cubes({ imageUrls, material }) {\r\n  const ref = useRef();\r\n\r\n  return imageUrls.map((imageUrl, index) => (\r\n    <mesh\r\n      key={index}\r\n      ref={ref}\r\n      position={[\r\n        randomIntFromInterval(-50, 50),\r\n        Math.floor(Math.random() * 10),\r\n        randomIntFromInterval(-50, 50),\r\n      ]}\r\n      castShadow\r\n      receiveShadow\r\n    >\r\n      <boxBufferGeometry attach=\"geometry\" args={[5, 5, 5]} color=\"white\" />\r\n      <Suspense fallback={null}>\r\n        <ImageTextureMaterial imageUrl={imageUrl} />\r\n      </Suspense>\r\n    </mesh>\r\n  ));\r\n}\r\n\r\nconst ImageTextureMaterial = (imageUrl) => {\r\n  const texture = useLoader(TextureLoader, imageUrl.imageUrl);\r\n\r\n  return (\r\n    <meshStandardMaterial\r\n      attach=\"material\"\r\n      roughness={1}\r\n      color=\"white\"\r\n      map={texture}\r\n      side={DoubleSide}\r\n    />\r\n  );\r\n};\r\n\r\nfunction Lights() {\r\n  const lightRef = useRef();\r\n  const lightRef1 = useRef();\r\n\r\n  useFrame(({ clock }) => {\r\n    const t = clock.getElapsedTime() * 0.5;\r\n    if (lightRef.current && lightRef1.current) {\r\n      lightRef.current.position.x = Math.sin(t) * 50;\r\n      lightRef1.current.position.x = Math.sin(t) * 50;\r\n\r\n      lightRef.current.position.z = Math.cos(t) * 50;\r\n      lightRef1.current.position.z = Math.sin(t) * 50;\r\n\r\n      lightRef1.current.position.y = Math.sin(t) * 50;\r\n    }\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <spotLight\r\n        ref={lightRef}\r\n        position={[20, 20, 10]}\r\n        intensity={3}\r\n        castShadow\r\n        color=\"#00e9ff\"\r\n        angle={Math.PI / 3}\r\n        penumbra={1}\r\n        shadow-mapSize-width={1024}\r\n        shadow-mapSize-height={1024}\r\n      />\r\n\r\n      <spotLight\r\n        ref={lightRef1}\r\n        position={[20, 20, 10]}\r\n        intensity={0.2}\r\n        castShadow\r\n        color=\"#e1ff00\"\r\n        angle={Math.PI / 3}\r\n        penumbra={1}\r\n        shadow-mapSize-width={1024}\r\n        shadow-mapSize-height={1024}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nfunction StreamBoxes() {\r\n  const [video] = useState(() => {\r\n    const vid = document\r\n      .getElementById(\"video\")\r\n      .getElementsByTagName(\"video\")[0];\r\n    vid.crossOrigin = \"Anonymous\";\r\n    return vid;\r\n  });\r\n  const { camera } = useThree();\r\n\r\n  const groupRef = useRef();\r\n  console.log(\"opens stream boxes\");\r\n  useFrame(({ clock }) => {\r\n    if (groupRef.current) {\r\n      groupRef.current.position.set(\r\n        camera.position.x,\r\n        camera.position.y,\r\n        camera.position.z\r\n      );\r\n      groupRef.current.rotation.y += 0.008;\r\n    }\r\n  });\r\n\r\n  return (\r\n    <group\r\n      ref={groupRef}\r\n      position={[camera.position.x, camera.position.y, camera.position.z]}\r\n    >\r\n      <mesh position={[0, 3, 33]}>\r\n        <boxBufferGeometry\r\n          args={[10, 9, 0.1]}\r\n          rotation={[Math.PI / 2, Math.PI / 2, Math.PI / 2]}\r\n        />\r\n        <meshBasicMaterial>\r\n          <videoTexture attach=\"map\" args={[video]} />\r\n        </meshBasicMaterial>\r\n      </mesh>\r\n\r\n      <mesh position={[20, 7, 0]}>\r\n        <boxBufferGeometry args={[0.1, 5, 6]} rotation={[Math.PI / 2, 0, 0]} />\r\n        <meshBasicMaterial>\r\n          <videoTexture attach=\"map\" args={[video]} />\r\n        </meshBasicMaterial>\r\n      </mesh>\r\n\r\n      <mesh position={[-10, 15, -5]}>\r\n        <boxBufferGeometry args={[7, 0.1, 6]} rotation={[Math.PI / 2, 0, 0]} />\r\n        <meshBasicMaterial>\r\n          <videoTexture attach=\"map\" args={[video]} />\r\n        </meshBasicMaterial>\r\n      </mesh>\r\n    </group>\r\n  );\r\n}\r\n\r\nfunction Floor() {\r\n  const [meshRef, ReflectorMaterial, passes] = useReflector();\r\n  usePostprocessing(passes);\r\n  return (\r\n    <group position-z={-5}>\r\n      <mesh\r\n        receiveShadow\r\n        ref={meshRef}\r\n        rotation-x={-Math.PI / 2}\r\n        position-y={-3.001}\r\n      >\r\n        <planeBufferGeometry\r\n          receiveShadow\r\n          attach=\"geometry\"\r\n          args={[300, 300]}\r\n        />\r\n\r\n        <ReflectorMaterial\r\n          metalness={0.8}\r\n          roughness={0.3}\r\n          clearcoat={0.5}\r\n          reflectorOpacity={0.3}\r\n          args={[300, 300]}\r\n        />\r\n      </mesh>\r\n    </group>\r\n  );\r\n}\r\n\r\nfunction Sound({ url }) {\r\n  const sound = useRef();\r\n  const { camera } = useThree();\r\n  const [listener] = useState(() => new AudioListener());\r\n  const buffer = useLoader(AudioLoader, url);\r\n  useEffect(() => {\r\n    sound.current.setBuffer(buffer);\r\n    sound.current.setRefDistance(1);\r\n    sound.current.setLoop(true);\r\n    sound.current.play();\r\n    camera.add(listener);\r\n    return () => camera.remove(listener);\r\n  });\r\n  return <positionalAudio ref={sound} args={[listener]} />;\r\n}\r\n\r\nfunction Boxes(props) {\r\n  const groupRef = useRef();\r\n\r\n  useFrame(({ clock }) => {\r\n    const t = clock.getElapsedTime() * 0.5;\r\n\r\n    if (groupRef.current) {\r\n      groupRef.current.children.forEach((element) => {\r\n        element.rotation.x = Math.sin(t) * 0.05;\r\n        element.rotation.y = Math.sin(t) * 0.05;\r\n        element.rotation.z = Math.sin(t) * 0.05;\r\n      });\r\n    }\r\n  });\r\n\r\n  return (\r\n    <group position-z={-5}>\r\n      <group ref={groupRef}>\r\n        <Cubes imageUrls={props.props} />\r\n      </group>\r\n    </group>\r\n  );\r\n}\r\n\r\nconst Model = () => {\r\n  const gltf = useGLTF(\"slum_house/scene.gltf\");\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    if (gltf) {\r\n      let model = gltf.scene;\r\n      model.scale.set(7, 7, 7);\r\n      model.traverse((children) => {\r\n        if (children instanceof Mesh) {\r\n          // maps mirrorMaterial onto all meshes in obj file.\r\n          children.castShadow = true;\r\n          children.receiveShadow = true;\r\n          children.geometry.computeVertexNormals();\r\n          // children.material = mirrorMaterial;\r\n        }\r\n      });\r\n    }\r\n  }, [gltf]);\r\n\r\n  return gltf ? (\r\n    <group position={[70, -2.3, 70]}>\r\n      <primitive ref={ref} object={gltf.scene} />\r\n      <Stacy pose={1} position={[0, 0, 0]} />\r\n    </group>\r\n  ) : null;\r\n};\r\n\r\nexport default class ContentRedistributionCanvas extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      imageUrls: this.props.imageUrls,\r\n      hasStream: this.props.hasStream,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"canvas did mount\", this.props.imageUrls.length);\r\n  }\r\n  componentDidUpdate() {\r\n    console.log(\"canvas did update\", this.props.imageUrls.length);\r\n  }\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (\r\n      this.props.imageUrls.length !== nextProps.imageUrls.length ||\r\n      this.props.loggedIn !== nextProps.loggedIn ||\r\n      this.state.hasStream !== nextState.hasStream\r\n    ) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  callbackFunction = () => {\r\n    this.setState({ hasStream: true });\r\n    console.log(\"sets stream to true\");\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.loggedIn && (\r\n          <Stream callbackFunction={this.callbackFunction} />\r\n        )}\r\n\r\n        <Canvas\r\n          id=\"canvas\"\r\n          colorManagement\r\n          shadowMap={true}\r\n          camera={{ position: [0, 0, 10], far: 170, near: 0.1, fov: 100 }}\r\n          resize={{ debounce: { scroll: 0, resize: 0 } }}\r\n          invalidateFrameloop={true}\r\n          gl={{\r\n            powerPreference: \"high-performance\",\r\n            antialias: false,\r\n            alpha: false,\r\n          }}\r\n          style={{\r\n            background: \"black\",\r\n            position: \"fixed\",\r\n            top: \"0\",\r\n            bottom: \"0\",\r\n            right: \"0\",\r\n            left: \"0\",\r\n            zIndex: \"0\",\r\n          }}\r\n        >\r\n          <Floor />\r\n\r\n          <Boxes props={this.state.imageUrls} />\r\n\r\n          <ambientLight intensity={0.3} />\r\n\r\n          <Suspense fallback={null}>\r\n            <Sound url=\"https://res.cloudinary.com/www-houseofkilling-com/video/upload/v1620900008/sounds/AliveForever_clhtnw.mp3\" />\r\n          </Suspense>\r\n\r\n          <Environment files=\"collage.hdr\" background={true} />\r\n\r\n          <Fireflies count={500} position={[0, 0, 0]} />\r\n\r\n          <Fireflies count={500} position={[-50, 0, 0]} />\r\n\r\n          <Fireflies count={500} position={[-50, 0, 20]} />\r\n\r\n          <Physics gravity={[0, 0, 0]}>\r\n            <Control />\r\n          </Physics>\r\n\r\n          <mesh\r\n            position={[0, 0, 40]}\r\n            rotation={[0, 0, Math.PI / 3]}\r\n            castShadow\r\n            receiveShadow\r\n          >\r\n            <boxBufferGeometry\r\n              attach=\"geometry\"\r\n              args={[40, 40, 40]}\r\n              color=\"white\"\r\n            />\r\n            <ImageTextureMaterial imageUrl=\"https://res.cloudinary.com/www-houseofkilling-com/image/upload/c_scale,w_315/v1624263178/textures/Artboard_20_rasqma.png\" />\r\n          </mesh>\r\n\r\n          <mesh\r\n            position={[-90, 0, 40]}\r\n            rotation={[0, Math.PI / 2, Math.PI / 3]}\r\n            castShadow\r\n            receiveShadow\r\n          >\r\n            <boxBufferGeometry\r\n              attach=\"geometry\"\r\n              args={[45, 45, 45]}\r\n              color=\"white\"\r\n            />\r\n            <ImageTextureMaterial imageUrl=\"https://res.cloudinary.com/www-houseofkilling-com/image/upload/c_scale,w_361/v1624263162/textures/Artboard_4_oc8m0v.png\" />\r\n          </mesh>\r\n\r\n          <mesh\r\n            position={[130, 20, 140]}\r\n            rotation={[Math.PI / 2, Math.PI / 2, Math.PI / 3]}\r\n            castShadow\r\n            receiveShadow\r\n          >\r\n            <boxBufferGeometry\r\n              attach=\"geometry\"\r\n              args={[100, 100, 100]}\r\n              color=\"white\"\r\n            />\r\n            <ImageTextureMaterial imageUrl=\"https://res.cloudinary.com/www-houseofkilling-com/image/upload/c_scale,w_338/v1624263172/textures/Artboard_13_sifhhu.png\" />\r\n          </mesh>\r\n\r\n          <mesh\r\n            position={[-120, 20, -120]}\r\n            rotation={[Math.PI / 2, Math.PI / 2, Math.PI / 3]}\r\n            castShadow\r\n            receiveShadow\r\n          >\r\n            <boxBufferGeometry\r\n              attach=\"geometry\"\r\n              args={[100, 100, 100]}\r\n              color=\"white\"\r\n            />\r\n            <ImageTextureMaterial imageUrl=\"https://res.cloudinary.com/www-houseofkilling-com/image/upload/c_scale,w_372/v1624263715/textures/Artboard_5explosion_rpkdlq.png\" />\r\n          </mesh>\r\n\r\n          <mesh\r\n            position={[0, 60, -90]}\r\n            rotation={[1, Math.PI / 2, Math.PI / 3]}\r\n            castShadow\r\n            receiveShadow\r\n          >\r\n            <boxBufferGeometry\r\n              attach=\"geometry\"\r\n              args={[100, 100, 100]}\r\n              color=\"white\"\r\n            />\r\n            <ImageTextureMaterial imageUrl=\"https://res.cloudinary.com/www-houseofkilling-com/image/upload/c_scale,w_383/v1624263172/textures/Artboard_9_zq7vvq.png\" />\r\n          </mesh>\r\n          <Lights />\r\n\r\n          <Model />\r\n\r\n          {this.state.hasStream && <StreamBoxes />}\r\n        </Canvas>\r\n        <Loader dataInterpolation={(p) => `waking up ${p.toFixed(5)}%`} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n/* <fogExp2 attach=\"fog\" args={[0xbffffd, 0.049]} /> */\r\n\r\n// <RSphere position={[10, 0, 10]} args={[7, 32, 32]} />\r\n\r\n// <RSphere position={[-70, 5, 20]} args={[3, 32, 32]} />\r\n\r\n// <RSphere position={[50, 10, -40]} args={[10, 32, 32]} />\r\n\r\n// <RSphere position={[0, 0, 0]} args={[50, 32, 32]} />\r\n","import { useCallback, useMemo, useState, useRef } from \"react\";\nimport {\n  LinearFilter,\n  MathUtils,\n  Matrix4,\n  PerspectiveCamera,\n  Plane,\n  RGBFormat,\n  Vector3,\n  Vector4,\n  WebGLRenderTarget,\n  RGBADepthPacking,\n} from \"three\";\nimport {\n  SavePass,\n  RenderPass,\n  LambdaPass,\n  DepthPass,\n  EffectPass,\n  DepthOfFieldEffect,\n} from \"postprocessing\";\nimport { useThree } from \"@react-three/fiber\";\nimport { ReflectorMaterial } from \"./reflector-material\";\n\nexport function useReflector(\n  textureWidth = 512,\n  textureHeight = 512,\n  clipBias = 0\n) {\n  const meshRef = useRef();\n  const [reflectorPlane] = useState(() => new Plane());\n  const [normal] = useState(() => new Vector3());\n  const [reflectorWorldPosition] = useState(() => new Vector3());\n  const [cameraWorldPosition] = useState(() => new Vector3());\n  const [rotationMatrix] = useState(() => new Matrix4());\n  const [lookAtPosition] = useState(() => new Vector3(0, 0, -1));\n  const [clipPlane] = useState(() => new Vector4());\n  const [view] = useState(() => new Vector3());\n  const [target] = useState(() => new Vector3());\n  const [q] = useState(() => new Vector4());\n  const [textureMatrix] = useState(() => new Matrix4());\n  const [virtualCamera] = useState(() => new PerspectiveCamera());\n  const { gl: renderer, scene, camera } = useThree();\n\n  const beforeRender = useCallback(\n    function beforeRender() {\n      if (!meshRef.current) return;\n      meshRef.current.visible = false;\n      reflectorWorldPosition.setFromMatrixPosition(meshRef.current.matrixWorld);\n      cameraWorldPosition.setFromMatrixPosition(camera.matrixWorld);\n\n      rotationMatrix.extractRotation(meshRef.current.matrixWorld);\n\n      normal.set(0, 0, 1);\n      normal.applyMatrix4(rotationMatrix);\n\n      view.subVectors(reflectorWorldPosition, cameraWorldPosition);\n\n      // Avoid rendering when reflector is facing away\n      if (view.dot(normal) > 0) return;\n\n      view.reflect(normal).negate();\n      view.add(reflectorWorldPosition);\n\n      rotationMatrix.extractRotation(camera.matrixWorld);\n\n      lookAtPosition.set(0, 0, -1);\n      lookAtPosition.applyMatrix4(rotationMatrix);\n      lookAtPosition.add(cameraWorldPosition);\n\n      target.subVectors(reflectorWorldPosition, lookAtPosition);\n      target.reflect(normal).negate();\n      target.add(reflectorWorldPosition);\n\n      virtualCamera.position.copy(view);\n      virtualCamera.up.set(0, 1, 0);\n      virtualCamera.up.applyMatrix4(rotationMatrix);\n      virtualCamera.up.reflect(normal);\n      virtualCamera.lookAt(target);\n\n      virtualCamera.far = camera.far; // Used in WebGLBackground\n\n      virtualCamera.updateMatrixWorld();\n      virtualCamera.projectionMatrix.copy(camera.projectionMatrix);\n\n      // Update the texture matrix\n      textureMatrix.set(\n        0.5,\n        0.0,\n        0.0,\n        0.5,\n        0.0,\n        0.5,\n        0.0,\n        0.5,\n        0.0,\n        0.0,\n        0.5,\n        0.5,\n        0.0,\n        0.0,\n        0.0,\n        1.0\n      );\n      textureMatrix.multiply(virtualCamera.projectionMatrix);\n      textureMatrix.multiply(virtualCamera.matrixWorldInverse);\n      textureMatrix.multiply(meshRef.current.matrixWorld);\n\n      // Now update projection matrix with new clip plane, implementing code from: http://www.terathon.com/code/oblique.html\n      // Paper explaining this technique: http://www.terathon.com/lengyel/Lengyel-Oblique.pdf\n      reflectorPlane.setFromNormalAndCoplanarPoint(\n        normal,\n        reflectorWorldPosition\n      );\n      reflectorPlane.applyMatrix4(virtualCamera.matrixWorldInverse);\n\n      clipPlane.set(\n        reflectorPlane.normal.x,\n        reflectorPlane.normal.y,\n        reflectorPlane.normal.z,\n        reflectorPlane.constant\n      );\n\n      const projectionMatrix = virtualCamera.projectionMatrix;\n\n      q.x =\n        (Math.sign(clipPlane.x) + projectionMatrix.elements[8]) /\n        projectionMatrix.elements[0];\n      q.y =\n        (Math.sign(clipPlane.y) + projectionMatrix.elements[9]) /\n        projectionMatrix.elements[5];\n      q.z = -1.0;\n      q.w =\n        (1.0 + projectionMatrix.elements[10]) / projectionMatrix.elements[14];\n\n      // Calculate the scaled plane vector\n      clipPlane.multiplyScalar(2.0 / clipPlane.dot(q));\n\n      // Replacing the third row of the projection matrix\n      projectionMatrix.elements[2] = clipPlane.x;\n      projectionMatrix.elements[6] = clipPlane.y;\n      projectionMatrix.elements[10] = clipPlane.z + 1.0 - clipBias;\n      projectionMatrix.elements[14] = clipPlane.w;\n    },\n    [\n      clipBias,\n      meshRef,\n      camera,\n      reflectorPlane,\n      normal,\n      reflectorWorldPosition,\n      cameraWorldPosition,\n      rotationMatrix,\n      lookAtPosition,\n      clipPlane,\n      view,\n      target,\n      q,\n      textureMatrix,\n      virtualCamera,\n    ]\n  );\n\n  function afterRender() {\n    if (!meshRef.current) return;\n    meshRef.current.visible = true;\n  }\n\n  const {\n    renderPass,\n    savePass,\n    depthPass,\n    blurPass,\n    lambdaPassBefore,\n    lambdaPassAfter,\n  } = useMemo(() => {\n    const parameters = {\n      minFilter: LinearFilter,\n      magFilter: LinearFilter,\n      format: RGBFormat,\n    };\n    const renderTarget = new WebGLRenderTarget(\n      textureWidth,\n      textureHeight,\n      parameters\n    );\n    renderTarget.texture.encoding = renderer.outputEncoding;\n\n    if (\n      !MathUtils.isPowerOfTwo(textureWidth) ||\n      !MathUtils.isPowerOfTwo(textureHeight)\n    ) {\n      renderTarget.texture.generateMipmaps = false;\n    }\n\n    const renderPass = new RenderPass(scene, virtualCamera);\n    const depthPass = new DepthPass(scene, virtualCamera);\n    const dof = new DepthOfFieldEffect(virtualCamera, {\n      focusDistance: 0.3,\n      focalLength: 0.6,\n      bokehScale: 3.0,\n    });\n    const blurPass = new EffectPass(virtualCamera, dof);\n    blurPass.setDepthTexture(depthPass.texture, RGBADepthPacking);\n\n    const savePass = new SavePass(renderTarget);\n    const lambdaPassBefore = new LambdaPass(beforeRender);\n    const lambdaPassAfter = new LambdaPass(afterRender);\n    return {\n      renderPass,\n      savePass,\n      lambdaPassBefore,\n      lambdaPassAfter,\n      blurPass,\n      depthPass,\n    };\n  }, [\n    textureWidth,\n    textureHeight,\n    beforeRender,\n    virtualCamera,\n    scene,\n    renderer.outputEncoding,\n  ]);\n\n  const Material = useMemo(\n    () => ReflectorMaterial({ savePass, textureMatrix }),\n    [savePass, textureMatrix]\n  );\n\n  return [\n    meshRef,\n    Material,\n    [\n      lambdaPassBefore,\n      renderPass,\n      depthPass,\n      blurPass,\n      savePass,\n      lambdaPassAfter,\n    ],\n  ];\n}\n","import React, { Suspense, useCallback, useState } from \"react\";\r\nimport ContentRedistributionCanvas from \"./canvas\";\r\nimport Dropzone from \"react-dropzone\";\r\n\r\n// import SongPlayer from \"./MusicPlayer\";\r\n// <SongPlayer audioUrl=\"https://res.cloudinary.com/www-houseofkilling-com/video/upload/v1620900008/sounds/AliveForever_clhtnw.mp3\" />\r\n\r\nfunction MyDropzone(props) {\r\n  const [message, setMessage] = useState(\r\n    \"Drag 'n' drop some files here, \\nor click to select files\"\r\n  );\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [dropZoneClass, setDropZoneClass] = useState(\"dropzone-basic\");\r\n\r\n  const handleDrop = useCallback(\r\n    (acceptedFiles) => {\r\n      if (acceptedFiles[0]) {\r\n        const reader = new FileReader();\r\n\r\n        console.log(\"accptedfile\", acceptedFiles[0].previewElement);\r\n\r\n        reader.readAsDataURL(acceptedFiles[0]);\r\n        reader.onloadstart = () => {\r\n          setMessage(\"loading file:\");\r\n          setIsLoading(true);\r\n          setDropZoneClass(\"dropzone-loading\");\r\n        };\r\n        reader.onloadend = () => {\r\n          if (reader.error) {\r\n            setMessage(\"that didnt go according to plan\");\r\n          } else {\r\n            props.uploadImage(reader.result);\r\n            setTimeout(() => {\r\n              setMessage(\r\n                \"thank you for your expression. \\nI love it \\nYou and everyone else can find it here in the archive now.\"\r\n              );\r\n              setIsLoading(false);\r\n              setDropZoneClass(\"dropzone-succes\");\r\n\r\n              setTimeout(() => {\r\n                setMessage(\r\n                  \"Drag 'n' drop some files here, \\nor click to select files\"\r\n                );\r\n                setIsLoading(false);\r\n                setDropZoneClass(\"dropzone-basic\");\r\n              }, 3000);\r\n            }, 2000);\r\n          }\r\n        };\r\n      }\r\n    },\r\n    [props]\r\n  );\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        bottom: \"0\",\r\n        left: \"0\",\r\n        zIndex: \"99999999999\",\r\n        height: \"150px\",\r\n        width: \"250px\",\r\n      }}\r\n      className={`container ${dropZoneClass}`}\r\n    >\r\n      <p\r\n        style={{\r\n          position: \"absolute\",\r\n          bottom: \"105%\",\r\n          fontSize: \"15px\",\r\n        }}\r\n      >\r\n        Feed me expressions plz\r\n      </p>\r\n      <Dropzone\r\n        onDrop={handleDrop}\r\n        accept=\"image/*\"\r\n        minSize={1024}\r\n        maxSize={3072000}\r\n        addRemoveLinks={true}\r\n        className=\"container\"\r\n        previewsContainer=\"dropzone-previews\"\r\n      >\r\n        {({ getRootProps, getInputProps }) => (\r\n          <div\r\n            {...getRootProps({ className: \"dropzone\" })}\r\n            style={{ width: \"100%\", height: \"100%\" }}\r\n          >\r\n            <input {...getInputProps()} />\r\n            {!isLoading ? (\r\n              <p\r\n                style={{\r\n                  color: \"inherit\",\r\n                  whiteSpace: \"pre-wrap\",\r\n                }}\r\n              >\r\n                {message}\r\n              </p>\r\n            ) : (\r\n              <p>is loading</p>\r\n            )}\r\n          </div>\r\n        )}\r\n      </Dropzone>\r\n      <div className=\"dropzone-previews\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default class ContentRedistribution extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      imageUrls: [],\r\n      hasNewImage: true,\r\n      previewSource: \"\",\r\n      hasBroadcast: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadImages();\r\n    this.setState({ hasNewImage: false });\r\n\r\n    this.props.socket.on(\"message\", (data) => {\r\n      if (data.newImage) {\r\n        if (!this.state.imageUrls.includes(data.newImage)) {\r\n          this.setState({\r\n            imageUrls: [...this.state.imageUrls, data.newImage],\r\n          });\r\n        }\r\n      }\r\n      if (data.broadcast) {\r\n        console.log(\"has broadcast\", data);\r\n        this.setState({\r\n          hasBroadcast: true,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  loadImages = async () => {\r\n    try {\r\n      const res = await fetch(\"/api/getallimages\");\r\n      const data = await res.json();\r\n      this.setState({ imageUrls: data.images });\r\n    } catch (error) {\r\n      console.error(\"this is the output error\", error);\r\n    }\r\n  };\r\n\r\n  handleFileInputChange = (e) => {\r\n    const file = e.target.files[0];\r\n    console.log(file);\r\n    this.previewFile(file);\r\n  };\r\n\r\n  uploadImage = async (base64EncodedImage) => {\r\n    try {\r\n      const res = await fetch(\"/api/upload\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ data: base64EncodedImage }),\r\n        headers: { \"Content-type\": \"application/json\" },\r\n      });\r\n      const data = await res.json();\r\n\r\n      console.log(\"succesful upload\", data);\r\n\r\n      this.setState({ hasNewImage: true, previewSource: \"\" });\r\n\r\n      this.props.socket.emit(\"uploadImage\", { data }, (error) => {});\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.state.imageUrls.length > 1 ? (\r\n          <Suspense fallback={null}>\r\n            <ContentRedistributionCanvas\r\n              imageUrls={this.state.imageUrls}\r\n              loggedIn={this.props.loggedIn}\r\n              hasBroadcast={this.state.hasBroadcast}\r\n            />\r\n          </Suspense>\r\n        ) : null}\r\n\r\n        {this.props.loggedIn && (\r\n          <>\r\n            <MyDropzone uploadImage={this.uploadImage} />\r\n          </>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Suspense, useRef, useState } from \"react\";\n\nimport Chat from \"./components/Chat/Chat\";\nimport ContentRedistribution from \"./components/content_redistribution\";\n\nimport \"./App.css\";\n\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\n\nimport io from \"socket.io-client\";\n\nconst ENDPOINT = \"https://stayvirtual-chat-backend.herokuapp.com/\";\n\nconst socket = io(ENDPOINT);\n\nconst recording = false;\n\nconst INTRO_Text =\n  \"www.stayvirtual.online** softly introduces  \\n THE HRWAILL ARCHIVE of Human Expression* Your semi-sentient 3D dataset \\ncreated by Esben Holk @ HOUSE OF KILLING  \\n with music by Sophie Harkins and Font by Jules Durand \\n\\nEnter with your name to share your jpgs with HRWAILL   \";\n\nconst App = () => {\n  const [name, setName] = useState();\n  const [loggedIn, setLoggedIn] = useState();\n  const [myID, setMyID] = useState();\n\n  const nameRef = useRef();\n\n  function runConnection(nameRef) {\n    const name = nameRef;\n    setLoggedIn(true);\n\n    socket.emit(\"join\", { name }, (error) => {\n      if (error) {\n        alert(error);\n        setLoggedIn(false);\n      }\n    });\n    socket.on(\"me\", (id) => {\n      setMyID(id);\n    });\n  }\n\n  return (\n    <Router>\n      <Route path=\"/\" exact>\n        {!loggedIn && !recording ? (\n          <>\n            <div className=\"outer-container\" style={{ zIndex: \"1\" }}>\n              <img\n                style={{ height: \"200px\", objectFit: \"contain\" }}\n                id=\"logo\"\n                src=\"https://res.cloudinary.com/www-houseofkilling-com/image/upload/v1623355136/contentRedistribution/logo_y5vsqo.png\"\n                alt=\"HRWAILL_icon\"\n              />\n\n              <p\n                style={{\n                  whiteSpace: \"pre-wrap\",\n                  fontSize: \"12px\",\n                  textAlign: \"center\",\n                }}\n              >\n                {INTRO_Text}\n              </p>\n\n              <div className=\"container\">\n                <input\n                  placeholder=\"Name\"\n                  className=\"input\"\n                  type=\"text\"\n                  ref={nameRef}\n                />\n              </div>\n\n              <button\n                onClick={(e) => {\n                  setName(nameRef.current.value);\n                  runConnection(nameRef.current.value);\n                }}\n                className={\"sendButton\"}\n                type=\"submit\"\n              >\n                Sign In\n              </button>\n            </div>\n            <p>\n              * a generative encyclopedia of images as expressions. <br></br>\n              ** an open source landscape <br></br> + live chat <br></br>\n              created by Esben Holk @{\" \"}\n              <a href=\"http://beta.houseofkilling.com/\"> HOUSE OF KILLING</a>\n              <br></br>\n              with music by Sophie Harkins and Font by{\" \"}\n              <a href=\"https://www.julesdurand.xyz/\">Jules Durand</a>\n            </p>\n          </>\n        ) : null}\n\n        <Suspense fallback={null}>\n          <ContentRedistribution\n            socket={socket}\n            loggedIn={loggedIn}\n            name={name}\n            myID={myID}\n          />\n          <Chat socket={socket} loggedIn={loggedIn} name={name} myID={myID} />\n        </Suspense>\n      </Route>\n    </Router>\n  );\n};\n\nexport default App;\n\n// <Route path=\"/broadcast\" exact>\n// <Broadcast socket={socket} />\n// </Route>\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}